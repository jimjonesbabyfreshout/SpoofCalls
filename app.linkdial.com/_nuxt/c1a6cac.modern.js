(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{380:function(e,t,r){"use strict";var n={name:"OTitle",props:{desktopOnly:r(59).a.bool.def(!1)}},o=(r(387),r(6)),component=Object(o.a)(n,(function(){var e=this;return(0,e._self._c)("h3",{staticClass:"o-title",class:{"o-title-desktop":e.desktopOnly}},[e._t("default")],2)}),[],!1,null,null,null);t.a=component.exports},381:function(e,t,r){var content=r(388);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(21).default)("4baa8d9d",content,!0,{sourceMap:!1})},382:function(e,t,r){var content=r(395);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(21).default)("c76bb1ac",content,!0,{sourceMap:!1})},384:function(e,t,r){"use strict";var n=r(9),o=(r(27),r(40),r(35),r(1));t.a={data:()=>({error:null,submitting:!1,loader:null}),methods:{$callApi(e){var t=arguments,l=this;return Object(n.a)((function*(){var{force:n,emitOnSuccess:c=!0,onFail:f=l.$options.formFailed,onSuccess:d=l.$options.formSubmitted,onException:h=l.$options.formCrashed,onMessage:m}=t.length>1&&void 0!==t[1]?t[1]:{};if(n||l.$el.checkValidity()){l.submitting=!0,l.error=null;try{l.showLoader();try{var[y,v]=yield Promise.all([Promise.all([r.e(1),r.e(0)]).then(r.bind(null,371)),Promise.all([r.e(41),r.e(44)]).then(r.bind(null,405))]),O=yield e(y,v);if(O.success){var _=c;if(d){var w=yield d.call(l,O);"boolean"==typeof w&&(_=w)}else o.a.config.productionTip;return _&&l.$emit("success",O),O&&O.message&&m&&m.call(l,O),!0}return l.error=O.error?O.error.message:O.message,f&&f.call(l,O),!1}catch(e){return e&&401===e.status&&l.$router.push({name:"login",query:{redirect:l.$router.currentRoute.fullPath},params:{msg:"You need to authorize again"}}),l.$sentry.captureException(e),l.error="We are experiencing technical problems. Check your internet connection. Please try again later.",h&&h.call(l,e),!1}}finally{l.submitting=!1,l.hideLoader()}}}))()},showLoader(){this.loader||(this.loader=this.$loading.show({container:this.fullPage?null:this.$refs.formContainer,canCancel:!1,color:"#15b76c",width:125,height:125}))},hideLoader(){var e;null===(e=this.loader)||void 0===e||e.hide(),this.loader=null}}}},385:function(e,t,r){"use strict";var n={name:"OFormMessage",props:{message:String,type:String}},o=(r(391),r(6)),component=Object(o.a)(n,(function(){var e=this,t=e._self._c;return e.message||e.$slots.default?t("div",{staticClass:"o-form__message",class:"o-form__message--".concat(e.type)},[t("p",{staticClass:"o-form__message__text"},[e._t("default",(function(){return[e._v(e._s(e.message))]}))],2)]):e._e()}),[],!1,null,null,null);t.a=component.exports},386:function(e,t,r){var content=r(392);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(21).default)("41a586d7",content,!0,{sourceMap:!1})},387:function(e,t,r){"use strict";r(381)},388:function(e,t,r){var n=r(20)((function(i){return i[1]}));n.push([e.i,'.o-title{color:#15b76c;display:block;font-size:1.5rem;font-weight:400;line-height:1.35;margin:0 0 30px;padding:0;position:relative;text-align:center;text-transform:uppercase}@media(min-width:60em){.o-title{margin-bottom:60px}}.o-title:before{border-top:1px solid #15b76c}.o-title:after{border-bottom:1px solid #15b76c}.o-title:after,.o-title:before{content:"";display:block;height:.7rem}.o-title-desktop{display:none}@media(min-width:60em){.o-title-desktop{display:block}}',""]),n.locals={},e.exports=n},391:function(e,t,r){"use strict";r(386)},392:function(e,t,r){var n=r(20)((function(i){return i[1]}));n.push([e.i,".o-form__message{animation:mb-in .125s;color:#15b76c;margin:0 0 1.4rem;overflow:visible}.o-form__message--error{color:red}.o-form__message__text{animation:pulse .25s .125s 6,scale-in .125s;display:inline-block;margin:0}@keyframes mb-in{0%{margin-bottom:-1.5em}to{margin-bottom:1.4rem}}@keyframes scale-in{0%{transform:scale(.1)}to{transform:scale(1)}}@keyframes pulse{0%{transform:scale(1);transform-origin:25% 50%}50%{transform:scale(1.1)}to{transform:scale(1)}}",""]),n.locals={},e.exports=n},393:function(e,t,r){"use strict";var n=r(18),o=r(9),l=r(59),c=r(30),f=r(383),d=r(379);function h(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function m(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?h(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):h(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var y={name:"AuthOnly",components:{FormButtons:f.a,OButton:d.a},props:{fetchInfo:l.a.bool.def(!0)},fetch(){var e=this;return Object(o.a)((function*(){e.fetchInfo&&(e.isLoggedIn?yield e.dispatchFetchInfo():!1===e.isLoggedIn&&e.$router.push({name:"login",query:{redirect:e.$route.fullPath}}))}))()},fetchDelay:0,fetchOnServer:!1,computed:m({},Object(c.c)({isLoggedIn:"session/isLoggedIn",isActive:"info/isActive"})),watch:{isLoggedIn:{handler(){this.$nextTick(this.$fetch)}}},methods:m({},Object(c.b)({dispatchFetchInfo:"info/fetchInfo"}))},v=r(394),O=r(6);var component=Object(O.a)(y,(function(){var e=this,t=e._self._c;return t("div",[e.$fetchState.pending?e._t("loading",(function(){return[e._v("\n    Loading...\n  ")]})):e.$fetchState.error?e._t("error",(function(){return[t("div",{staticClass:"mt-2 mb-2",class:e.$style.errorMessage},[e._v("\n      An error occured while trying to load the content. Please check your internet connection and try again.\n    ")]),e._v(" "),t("form-buttons",[t("o-button",{on:{click:e.$fetch}},[e._v("Refresh")])],1)]}),{error:e.$fetchState.error}):e.isLoggedIn?t("div",[e._t("default")],2):e._e()],2)}),[],!1,(function(e){this.$style=v.default.locals||v.default}),null,null);t.a=component.exports},394:function(e,t,r){"use strict";var n=r(382),o=r.n(n);r.d(t,"default",(function(){return o.a}))},395:function(e,t,r){var n=r(20)((function(i){return i[1]}));n.push([e.i,".errorMessage--o3Rl{text-align:center}",""]),n.locals={errorMessage:"errorMessage--o3Rl"},e.exports=n},398:function(e,t,r){"use strict";var n=r(18),o=r(59),l=r(30),c=r(379),f=r(80),d=r(380);function h(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function m(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?h(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):h(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var y={components:{OButton:c.a,OCColumn:f.a,OTitle:d.a},props:{title:o.a.string,requireVerified:o.a.bool.def(!1)},computed:m(m({},Object(l.c)({info:"info/getInfo",isActive:"info/isActive"})),{},{profile(){return this.info.profiles&&this.info.profiles[0]},isVerified(){return this.profile&&this.profile.phone&&this.isActive},hasProfile(){return this.requireVerified?this.isVerified:!!this.profile}})},v=r(6),component=Object(v.a)(y,(function(){var e=this,t=e._self._c;return t("div",[e.hasProfile?e._t("default"):t("OCColumn",[e.title?t("OTitle",[e._v("\n      "+e._s(e.title)+"\n    ")]):e._e(),e._v(" "),e.requireVerified&&!e.isVerified?t("div",[t("p",[e._v("\n        You need to have a complete profile in order to access this page.\n        Please make sure you fill all data needed including verified phone number.\n      ")]),e._v(" "),t("o-button",{attrs:{to:{path:"/dashboard"}}},[e._v("\n        view profile\n      ")])],1):t("div",[t("p",[e._v("\n        You have to complete your profile in order to access this page.\n        Please create a profile first.\n      ")]),e._v(" "),t("o-button",{attrs:{to:{path:"/dashboard"}}},[e._v("\n        Create profile\n      ")])],1)],1)],2)}),[],!1,null,null,null);t.a=component.exports},406:function(e,t,r){var content=r(432);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(21).default)("441c71d4",content,!0,{sourceMap:!1})},407:function(e,t,r){"use strict";var n=r(18),o=r(59),l=r(30),c=r(399),f=r(379);function d(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function h(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var m={name:"OFormInfoInput",components:{OFormInput:c.a,OButton:f.a},props:{info:o.a.string},methods:h(h({},Object(l.b)({showSnackbar:"snackbar/show"})),{},{showInfo(){this.showSnackbar({message:this.info})},setCustomValidity(e){this.$refs.input.setCustomValidity(e)}})},y=(r(445),r(6)),component=Object(y.a)(m,(function(){var e=this,t=e._self._c;return t("OFormInput",e._g(e._b({ref:"input",scopedSlots:e._u([{key:"default",fn:function(){return[t("div",{staticClass:"info-row"},[e._t("default"),e._v(" "),e.info?t("OButton",{attrs:{theme:"none"},on:{click:e.showInfo}},[t("img",{staticClass:"info-icon",attrs:{src:r(408)}})]):e._e()],2)]},proxy:!0},{key:"after",fn:function(){return[e._t("after")]},proxy:!0},{key:"error",fn:function(){return[e._t("error")]},proxy:!0}],null,!0)},"OFormInput",e.$attrs,!1),e.$listeners))}),[],!1,null,"b540a8b6",null);t.a=component.exports},408:function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/PjxzdmcgaGVpZ2h0PSI0OCIgdmlld0JveD0iMCAwIDQ4IDQ4IiB3aWR0aD0iNDgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgICA8cGF0aCBkPSJNMCAwaDQ4djQ4SDB6IiBmaWxsPSJub25lIiAvPgogICAgPHBhdGggZmlsbD0iIzE1Yjc2YyIKICAgICAgICBkPSJNMjIgMzRoNFYyMmgtNHYxMnptMi0zMEMxMi45NSA0IDQgMTIuOTUgNCAyNHM4Ljk1IDIwIDIwIDIwIDIwLTguOTUgMjAtMjBTMzUuMDUgNCAyNCA0em0wIDM2Yy04LjgyIDAtMTYtNy4xOC0xNi0xNlMxNS4xOCA4IDI0IDhzMTYgNy4xOCAxNiAxNi03LjE4IDE2LTE2IDE2em0tMi0yMmg0di00aC00djR6IiAvPgo8L3N2Zz4="},419:function(e,t,r){"use strict";var n=r(9),o=r(59),l=r(407),c=(r(27),r(40),r(35),Promise.all([r.e(45).then(r.bind(null,730)),r.e(43).then(r.t.bind(null,728,3))])),f=function(){var e=Object(n.a)((function*(e,t){var[{parsePhoneNumberFromString:r},n]=yield c;return r(e,t,n)}));return function(t,r){return e.apply(this,arguments)}}(),d=function(){var e=Object(n.a)((function*(e,t){var r=yield f(e,t);return r?r.number:e}));return function(t,r){return e.apply(this,arguments)}}(),h=function(){var e=Object(n.a)((function*(e,t){var r=yield f(e,t);return r?"BG"===r.country?r.formatInternational():r.formatNational():e}));return function(t,r){return e.apply(this,arguments)}}();r(161);function m(){return(m=Object(n.a)((function*(e,t){if(!e)return!1;var r=yield f(e,t);return!!r&&(!!e.startsWith("+359")||"US"===r.country&&10===r.nationalNumber.length)}))).apply(this,arguments)}var y={name:"OFormPhoneNumberInput",components:{OFormInfoInput:l.a},inheritAttrs:!1,model:{prop:"value",event:"change"},props:{value:{default:"",type:[String,Number]},country:{default:"US",type:String},showCountry:{default:!1,type:Boolean},required:o.a.bool.def(!1)},data:()=>({internalValue:null}),watch:{internalValue(e){var t=this;return Object(n.a)((function*(){var r;r=!t.required&&""===e||(yield function(e,t){return m.apply(this,arguments)}(e,t.country)),t.$refs.input.setCustomValidity(r?"":"Invalid phone number")}))()},value(){this.updateFromModel()}},created(){this.updateFromModel()},methods:{onBlur(){var e=this;return Object(n.a)((function*(){e.internalValue=e.internalValue&&(yield h(e.internalValue,e.country))}))()},onChange(){var e=this;return Object(n.a)((function*(){e.$emit("change",yield d(e.internalValue,e.country))}))()},onInput(e){var t=this;return Object(n.a)((function*(){t.dirty=!0,t.internalValue=e,t.$emit("change",yield d(t.internalValue,t.country))}))()},updateFromModel(){var e=this;return Object(n.a)((function*(){e.internalValue=e.value&&(yield h(e.value,e.country)),e.$emit("change",yield d(e.internalValue,e.country))}))()}}},v=y,O=(r(431),r(6)),component=Object(O.a)(v,(function(){var e=this,t=e._self._c;return t("OFormInfoInput",e._g(e._b({ref:"input",attrs:{type:"tel",value:e.internalValue},on:{blur:e.onBlur,change:e.onChange,input:e.onInput},scopedSlots:e._u([{key:"tooltip",fn:function(){return[e._t("tooltip")]},proxy:!0},{key:"after",fn:function(){return[e._t("after")]},proxy:!0}],null,!0)},"OFormInfoInput",e.$attrs,!1),e.$listeners),[e.country&&e.showCountry?t("img",{staticClass:"s-country",attrs:{alt:"country",src:r(422)("./".concat(e.country.toLowerCase(),".png"))}}):e._e(),e._v(" "),e._t("default")],2)}),[],!1,null,null,null);t.a=component.exports},422:function(e,t,r){var map={"./au.png":427,"./ca.png":428,"./gb.png":429,"./us.png":430};function n(e){var t=o(e);return r(t)}function o(e){if(!r.o(map,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return map[e]}n.keys=function(){return Object.keys(map)},n.resolve=o,e.exports=n,n.id=422},423:function(e,t,r){var content=r(446);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(21).default)("4c33c6a0",content,!0,{sourceMap:!1})},427:function(e,t,r){e.exports=r.p+"img/au.cc91899.png"},428:function(e,t,r){e.exports=r.p+"img/ca.5c91442.png"},429:function(e,t,r){e.exports=r.p+"img/gb.35f431e.png"},430:function(e,t,r){e.exports=r.p+"img/us.d399a50.png"},431:function(e,t,r){"use strict";r(406)},432:function(e,t,r){var n=r(20)((function(i){return i[1]}));n.push([e.i,".s-country{height:20px;margin-right:5px}",""]),n.locals={},e.exports=n},445:function(e,t,r){"use strict";r(423)},446:function(e,t,r){var n=r(20)((function(i){return i[1]}));n.push([e.i,".info-row[data-v-b540a8b6]{align-items:center;display:flex;flex-direction:row;justify-items:flex-start}.info-row button[data-v-b540a8b6]{line-height:1em;padding:0 5px}.info-row .info-icon[data-v-b540a8b6]{height:1.5em;margin:auto}",""]),n.locals={},e.exports=n},572:function(e,t,r){var content=r(678);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(21).default)("afb395f4",content,!0,{sourceMap:!1})},677:function(e,t,r){"use strict";r(572)},678:function(e,t,r){var n=r(20)((function(i){return i[1]}));n.push([e.i,".verified[data-v-9cd61e4e]{color:#15b76c}.not-verified[data-v-9cd61e4e]{color:red}.us-number-warning[data-v-9cd61e4e]{color:#15b76c;flex:1;font-weight:700}.warnings-container[data-v-9cd61e4e]{display:flex;flex-flow:row nowrap;line-height:1em;margin-bottom:20px;margin-top:5px}.v-t-input[data-v-9cd61e4e]{-webkit-appearance:none;-moz-appearance:none;appearance:none;background:#fff;border:1px solid #bfbfbf;border-radius:10px;box-shadow:none;flex:1;margin:0;min-height:0;min-width:0;padding:.5rem}.v-t-w[data-v-9cd61e4e]{font-size:2rem!important;line-height:1.2}",""]),n.locals={},e.exports=n},749:function(e,t,r){"use strict";r.r(t);var n=r(393),o=r(398),l=r(9),c=r(18),f=r(30),d=r(385),h=r(384),m=r(380),y=r(419),v=r(390),O=r(383),_=r(389);function w(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function j(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?w(Object(source),!0).forEach((function(t){Object(c.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):w(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var x={name:"CFormUpdateNumber",components:{OTitle:m.a,PhoneNumberInput:y.a,OForm:v.a,FormButtons:O.a,OFormSubmitButton:_.a,OFormMessage:d.a},mixins:[h.a],data:()=>({message:null,phone:"",country:"",info:{phone:"This is the phone number used for forwarding calls from your profile page",numberWarning:"Changing the phone number will deactivate your profile until you verify the new number"}}),computed:j(j({},Object(f.c)({userInfo:"info/getInfo"})),{},{profile(){return this.userInfo.profiles[0]},needVerify(){return this.profile&&this.profile.phone_pending||!1}}),beforeMount(){this.profile&&(this.phone=this.profile.phone,this.country=this.profile.country)},methods:j(j({},Object(f.b)({fetchInfo:"info/fetchInfo"})),{},{submit(){var e,t=this;this.$callApi((e=>{var t,data={user:this.$store.getters["session/getEmail"],pass:this.$store.getters["session/getPassword"],phone:this.phone,country:this.country,id:null===(t=this.profile)||void 0===t?void 0:t.id};return e.updateProfile(data)}),{onSuccess:(e=Object(l.a)((function*(){yield t.fetchInfo(),t.needVerify?t.$router.push({name:"number-verify",params:{autoRequest:!0}}):t.$router.push("/dashboard")})),function(){return e.apply(this,arguments)})})}})},I=x,P=(r(677),r(6)),M={components:{CFormUpdateNumber:Object(P.a)(I,(function(){var e=this,t=e._self._c;return t("OForm",{ref:"form",on:{submit:e.submit}},[t("o-title",[e._v("Forwarding number")]),e._v(" "),t("div",{staticClass:"phone-group"},[t("PhoneNumberInput",{staticClass:"mb-0",attrs:{name:"phone",country:e.country,"show-country":!0,required:"",placeholder:"phone number",info:"Your real phone number. Your linkdial profile is call forwarded to this number. People will dial this number when they press the call button on your links."},model:{value:e.phone,callback:function(t){e.phone=t},expression:"phone"}},[e._v("\n      Number\n    ")])],1),e._v(" "),t("OFormMessage",{attrs:{type:e.error?"error":e.message?"success":"info",message:e.error||e.message}}),e._v(" "),t("FormButtons",[t("OFormSubmitButton",[e._v("\n      Save\n    ")])],1)],1)}),[],!1,null,"9cd61e4e",null).exports,RequireProfile:o.a,AuthOnly:n.a},methods:{onSuccess(){}}},C=Object(P.a)(M,(function(){var e=this._self._c;return e("auth-only",[e("require-profile",{attrs:{title:"Forwarding number"}},[e("CFormUpdateNumber",{on:{success:this.onSuccess}})],1)],1)}),[],!1,null,null,null);t.default=C.exports}}]);